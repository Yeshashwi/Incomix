{% extends "base.html" %}

{% block content %}
<h2>Your Dashboard</h2>

<p><strong>Total Income:</strong> ₹{{ '%.2f'|format(total_income) }}</p>

<h3>Add Income Entry</h3>
<form method="post">
    <div class="input-group">
        <label for="source">Source</label>
        <input type="text" name="source" id="source" placeholder="e.g., Freelancing, Part-time job" required>
    </div>
    <div class="input-group">
        <label for="amount">Amount</label>
        <input type="number" step="0.01" name="amount" id="amount" placeholder="e.g., 500" required>
    </div>
    <button type="submit" class="btn">Add</button>
</form>

<h3>Recent Income Entries</h3>
{% if incomes %}
<table>
    <tr>
        <th>Source</th>
        <th>Amount (₹)</th>
        <th>Date & Time</th>
    </tr>
    {% for inc in incomes %}
    <tr>
        <td>{{ inc.source }}</td>
        <td>{{ '%.2f'|format(inc.amount) }}</td>
        <td>{{ inc.created_at }}</td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No income entries yet. Add your first one above.</p>
{% endif %}
{% endblock %}